"0","#Split data into train and test"
"0","dt = sort(sample(nrow(students_dummies_final), nrow(students_dummies_final)*.8))"
"0","train<-students_dummies_final[dt,]"
"0","train_y_final <- train$G3"
"0","train_x_final <- train[ ,!(colnames(train) == ""G3"")]"
"0","test<-students_dummies_final[-dt,]"
"0","test_y_final <- test$G3"
"0","test_x_final <- test[ ,!(colnames(test) == ""G3"")]"
"0",""
"0",""
"0","#Create group vector for group lasso"
"0","group_vars_df_final <- as.data.frame(list(sapply(train_x_final, class)),col.names = 'type')"
"0","#Set the index to a new column called column_name"
"0","group_vars_df_final  <- cbind(column_name = rownames(group_vars_df_final), group_vars_df_final)"
"0","rownames(group_vars_df_final) <- 1:nrow(group_vars_df_final)"
"0",""
"0",""
"0","column_name_prefixes_final <- rep(NA, nrow(group_vars_df_final))"
"0",""
"0","for (row in 1:nrow(group_vars_df_final)) {"
"0","  #Iterate over all the rows and create dummy variables"
"0","  column_name_prefixes_final[row]=strsplit(group_vars_df_final[row,'column_name'],""_"")[[1]][1]"
"0","}"
"0",""
"0","#Get the unique elements of the list"
"0","unique_prefixes <- unique(column_name_prefixes_final)"
"0","mapping_list <- seq(1:length(unique_prefixes))"
"0","group_factor_final <- rep(NA, length(column_name_prefixes_final))"
"0",""
"0","#Create group_factor list"
"0","i<-1"
"0","for (elem in column_name_prefixes_final) {"
"0","  group_factor_final[i]=which(unique_prefixes %in% elem)"
"0","  i <- i+1"
"0","}"
